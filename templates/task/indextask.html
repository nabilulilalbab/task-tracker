<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Dashboard - Productivity & Learning Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Enhanced Tailwind configuration
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: [
                "Inter",
                "-apple-system",
                "BlinkMacSystemFont",
                '"Segoe UI"',
                "Roboto",
                '"Helvetica Neue"',
                "Arial",
                "sans-serif",
              ],
            },
            colors: {
              primary: {
                50: "#eff6ff",
                500: "#4f46e5",
                600: "#4338ca",
                700: "#3730a3",
              },
              success: {
                100: "#dcfce7",
                500: "#22c55e",
                700: "#15803d",
              },
              warning: {
                100: "#fef3c7",
                500: "#f59e0b",
                700: "#d97706",
              },
            },
            animation: {
              "fade-in": "fadeIn 0.3s ease-in-out",
              "slide-up": "slideUp 0.3s ease-out",
              "hover-lift": "hoverLift 0.3s ease-out",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0" },
                "100%": { opacity: "1" },
              },
              slideUp: {
                "0%": { transform: "translateY(20px)", opacity: "0" },
                "100%": { transform: "translateY(0)", opacity: "1" },
              },
              hoverLift: {
                "0%": { transform: "translateY(0) scale(1)" },
                "100%": { transform: "translateY(-4px) scale(1.02)" },
              },
            },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://rsms.me/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    <style>
      .card-hover {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .card-hover:hover {
        transform: translateY(-8px);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      }
      .modal-backdrop {
        backdrop-filter: blur(8px);
        background: rgba(0, 0, 0, 0.6);
      }
      .status-todo {
        border-top-color: #9ca3af;
        background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
      }
      .status-inprogress {
        border-top-color: #f59e0b;
        background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
      }
      .status-done {
        border-top-color: #10b981;
        background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
      }
      .glass-effect {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
    </style>
  </head>
  <body class="bg-gray-50 font-sans antialiased">
    <div class="min-h-screen">
      <div class="container mx-auto p-4 md:p-6 max-w-7xl">
        <!-- Enhanced Header -->
        <header
          class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8 animate-fade-in"
        >
          <div class="flex items-center gap-4">
            <div
              class="p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-8 w-8 text-white"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"
                />
              </svg>
            </div>
            <div>
              <h1
                class="text-3xl md:text-4xl font-bold text-gray-800 bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text"
              >
                Task Dashboard
              </h1>
              <p class="text-base text-gray-500 mt-1">
                Kelola aktivitas coding dan belajar kamu dengan efisien
              </p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <div class="relative">
              <button
                id="monthSelector"
                class="flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 text-gray-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <span id="selectedMonth">Januari 2025</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 text-gray-500 transform transition-transform"
                  id="monthChevron"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                    clip-rule="evenodd"
                  />
                </svg>
              </button>
            </div>
            <button
              id="addTaskBtn"
              class="flex items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:from-indigo-600 hover:to-indigo-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add Task
            </button>
          </div>
        </header>

        <!-- Enhanced Stats Cards -->
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8">
          <div
            class="group rounded-2xl border border-gray-200 bg-white p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1"
          >
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm font-medium text-gray-500">Total Waktu</p>
                <p
                  class="mt-2 text-3xl font-bold text-indigo-600"
                  id="totalTime"
                >
                  18h 0m
                </p>
              </div>
              <div
                class="p-3 bg-indigo-50 rounded-full group-hover:bg-indigo-100 transition-colors"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6 text-indigo-600"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
              </div>
            </div>
          </div>

          <div
            class="group rounded-2xl border border-gray-200 bg-white p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1"
          >
            <p class="text-sm font-medium text-gray-500">Tasks Selesai</p>
            <div class="mt-3 flex items-center gap-4">
              <p class="text-3xl font-bold text-gray-800">
                <span id="completedTasks">1</span>/<span id="totalTasks"
                  >4</span
                >
              </p>
              <div class="flex-1">
                <div class="h-3 w-full rounded-full bg-gray-200">
                  <div
                    class="h-3 rounded-full bg-gradient-to-r from-indigo-500 to-indigo-600 transition-all duration-500"
                    style="width: 25%"
                    id="progressBar"
                  ></div>
                </div>
                <p class="text-xs text-gray-400 mt-1">25% completion</p>
              </div>
            </div>
          </div>

          <div
            class="group rounded-2xl border border-gray-200 bg-white p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1"
          >
            <div class="flex items-center justify-between mb-3">
              <p class="text-sm font-medium text-gray-500">Top Tags</p>
              <div
                class="p-2 bg-green-50 rounded-full group-hover:bg-green-100 transition-colors"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 text-green-600"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                  />
                </svg>
              </div>
            </div>
            <div class="flex flex-wrap gap-2" id="topTags">
              <span
                class="rounded-full bg-gradient-to-r from-indigo-100 to-indigo-50 px-3 py-1 text-xs font-medium text-indigo-700 border border-indigo-200"
              >
                react (2)
              </span>
              <span
                class="rounded-full bg-gradient-to-r from-green-100 to-green-50 px-3 py-1 text-xs font-medium text-green-700 border border-green-200"
              >
                portfolio (1)
              </span>
              <span
                class="rounded-full bg-gradient-to-r from-purple-100 to-purple-50 px-3 py-1 text-xs font-medium text-purple-700 border border-purple-200"
              >
                frontend (1)
              </span>
            </div>
          </div>

          <div
            class="group rounded-2xl border border-gray-200 bg-white p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1"
          >
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm font-medium text-gray-500">Progress</p>
                <p class="mt-2 text-3xl font-bold text-gray-800">
                  <span class="text-green-600">✓</span>
                  <span id="progressPercent">25</span>%
                </p>
                <p class="text-xs text-gray-400">Completion rate</p>
              </div>
              <div
                class="p-3 bg-green-50 rounded-full group-hover:bg-green-100 transition-colors"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6 text-green-600"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Tasks Section -->
        <div class="animate-slide-up">
          <div
            class="mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"
          >
            <h2 class="text-2xl font-bold text-gray-800">All Tasks</h2>
            <div class="flex items-center gap-4">
              <div class="flex items-center gap-2">
                <label
                  for="filter-status"
                  class="text-sm font-medium text-gray-600"
                  >Filter Status:</label
                >
                <select
                  id="filter-status"
                  class="rounded-lg border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 bg-white px-3 py-2 text-sm"
                >
                  <option value="all">Semua</option>
                  <option value="done">Done</option>
                  <option value="inprogress">In Progress</option>
                  <option value="todo">Todo</option>
                </select>
              </div>
              <div class="flex items-center gap-2">
                <label for="sort-by" class="text-sm font-medium text-gray-600"
                  >Sort by:</label
                >
                <select
                  id="sort-by"
                  class="rounded-lg border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 bg-white px-3 py-2 text-sm"
                >
                  <option value="updated">Last Updated</option>
                  <option value="created">Created Date</option>
                  <option value="title">Title</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Enhanced Tasks Grid -->
          <div
            class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"
            id="tasksContainer"
          >
            <!-- Task Card 1 - Done -->
            <div
              class="task-card status-done flex flex-col rounded-2xl bg-white shadow-lg overflow-hidden border-t-4 card-hover"
              data-status="done"
              data-task-id="1"
            >
              <div class="flex flex-col flex-grow p-6">
                <div class="flex-grow">
                  <div class="flex justify-between items-start mb-3">
                    <h3 class="text-lg font-bold text-gray-800 pr-2">
                      Buat portfolio static website
                    </h3>
                    <span
                      class="inline-flex items-center rounded-full bg-green-100 px-3 py-1 text-xs font-bold text-green-700 border border-green-200"
                    >
                      ✅ done
                    </span>
                  </div>

                  <p class="text-sm text-gray-600 mb-4 line-clamp-2">
                    Portfolio dengan React dan Tailwind, sudah deploy ke
                    Netlify. Fitur lengkap dengan animasi dan responsive design.
                  </p>

                  <div class="flex flex-wrap gap-2 mb-4">
                    <span
                      class="rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600 border border-indigo-200"
                      >react</span
                    >
                    <span
                      class="rounded-full bg-green-50 px-3 py-1 text-xs font-medium text-green-600 border border-green-200"
                      >portfolio</span
                    >
                    <span
                      class="rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-600 border border-purple-200"
                      >frontend</span
                    >
                  </div>
                </div>

                <div
                  class="border-t border-gray-100 pt-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3 text-xs text-gray-500">
                    <div class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                      <span>8h 0m</span>
                    </div>
                    <span>•</span>
                    <span class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"
                        />
                      </svg>
                      Website
                    </span>
                  </div>
                  <div class="flex items-center gap-2">
                    <button
                      class="edit-task-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-task-id="1"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"
                        />
                      </svg>
                      Edit
                    </button>
                    <a
                      href="//myportfolio.dev"
                      target="_blank"
                      class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                        />
                      </svg>
                      Lihat Website
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <!-- Task Card 2 - In Progress -->
            <div
              class="task-card status-inprogress flex flex-col rounded-2xl bg-white shadow-lg overflow-hidden border-t-4 card-hover"
              data-status="inprogress"
              data-task-id="2"
            >
              <div class="flex flex-col flex-grow p-6">
                <div class="flex-grow">
                  <div class="flex justify-between items-start mb-3">
                    <h3 class="text-lg font-bold text-gray-800 pr-2">
                      Belajar Django untuk sistem Topsis
                    </h3>
                    <span
                      class="inline-flex items-center rounded-full bg-orange-100 px-3 py-1 text-xs font-bold text-orange-700 border border-orange-200"
                    >
                      🔄 in progress
                    </span>
                  </div>

                  <p class="text-sm text-gray-600 mb-4">
                    Implementasi algoritma TOPSIS untuk decision support system.
                    Sedang fokus pada backend architecture.
                  </p>

                  <div class="flex flex-wrap gap-2 mb-4">
                    <span
                      class="rounded-full bg-blue-50 px-3 py-1 text-xs font-medium text-blue-600 border border-blue-200"
                      >python</span
                    >
                    <span
                      class="rounded-full bg-green-50 px-3 py-1 text-xs font-medium text-green-600 border border-green-200"
                      >django</span
                    >
                    <span
                      class="rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-600 border border-purple-200"
                      >algorithm</span
                    >
                  </div>
                </div>

                <div
                  class="border-t border-gray-100 pt-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3 text-xs text-gray-500">
                    <div class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                      <span>6h 0m</span>
                    </div>
                    <span>•</span>
                    <span class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                        />
                      </svg>
                      Local
                    </span>
                  </div>
                  <div class="flex items-center gap-2">
                    <button
                      class="edit-task-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-task-id="2"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"
                        />
                      </svg>
                      Edit
                    </button>
                    <button
                      class="open-project-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-path="/home/korteks/Documents/django-topsis"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"
                        />
                      </svg>
                      Open Terminal
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Task Card 3 - Todo -->
            <div
              class="task-card status-todo flex flex-col rounded-2xl bg-white shadow-lg overflow-hidden border-t-4 card-hover"
              data-status="todo"
              data-task-id="3"
            >
              <div class="flex flex-col flex-grow p-6">
                <div class="flex-grow">
                  <div class="flex justify-between items-start mb-3">
                    <h3 class="text-lg font-bold text-gray-800 pr-2">
                      Setup DevOps pipeline dengan Docker
                    </h3>
                    <span
                      class="inline-flex items-center rounded-full bg-gray-200 px-3 py-1 text-xs font-bold text-gray-600 border border-gray-300"
                    >
                      ⏳ todo
                    </span>
                  </div>

                  <p class="text-sm text-gray-600 mb-4">
                    Belajar Docker, Docker Compose, dan CI/CD dengan GitHub
                    Actions untuk automation.
                  </p>

                  <div class="flex flex-wrap gap-2 mb-4">
                    <span
                      class="rounded-full bg-blue-50 px-3 py-1 text-xs font-medium text-blue-600 border border-blue-200"
                      >devops</span
                    >
                    <span
                      class="rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600 border border-indigo-200"
                      >docker</span
                    >
                    <span
                      class="rounded-full bg-green-50 px-3 py-1 text-xs font-medium text-green-600 border border-green-200"
                      >ci-cd</span
                    >
                  </div>
                </div>

                <div
                  class="border-t border-gray-100 pt-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3 text-xs text-gray-500">
                    <div class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                      <span>0h 0m</span>
                    </div>
                    <span>•</span>
                    <span class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                        />
                      </svg>
                      Local
                    </span>
                  </div>
                  <div class="flex items-center gap-2">
                    <button
                      class="edit-task-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-task-id="3"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"
                        />
                      </svg>
                      Edit
                    </button>
                    <button
                      class="open-project-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-path="/home/korteks/Documents/devops-pipeline"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"
                        />
                      </svg>
                      Open Terminal
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Task Card 4 - In Progress -->
            <div
              class="task-card status-inprogress flex flex-col rounded-2xl bg-white shadow-lg overflow-hidden border-t-4 card-hover"
              data-status="inprogress"
              data-task-id="4"
            >
              <div class="flex flex-col flex-grow p-6">
                <div class="flex-grow">
                  <div class="flex justify-between items-start mb-3">
                    <h3 class="text-lg font-bold text-gray-800 pr-2">
                      Optimasi performa aplikasi React
                    </h3>
                    <span
                      class="inline-flex items-center rounded-full bg-orange-100 px-3 py-1 text-xs font-bold text-orange-700 border border-orange-200"
                    >
                      🔄 in progress
                    </span>
                  </div>

                  <p class="text-sm text-gray-600 mb-4">
                    Code splitting, lazy loading, dan memory optimization untuk
                    improve performance.
                  </p>

                  <div class="flex flex-wrap gap-2 mb-4">
                    <span
                      class="rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600 border border-indigo-200"
                      >react</span
                    >
                    <span
                      class="rounded-full bg-red-50 px-3 py-1 text-xs font-medium text-red-600 border border-red-200"
                      >performance</span
                    >
                    <span
                      class="rounded-full bg-yellow-50 px-3 py-1 text-xs font-medium text-yellow-600 border border-yellow-200"
                      >optimization</span
                    >
                  </div>
                </div>

                <div
                  class="border-t border-gray-100 pt-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3 text-xs text-gray-500">
                    <div class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                      <span>4h 0m</span>
                    </div>
                    <span>•</span>
                    <span class="flex items-center gap-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                        />
                      </svg>
                      Local
                    </span>
                  </div>
                  <div class="flex items-center gap-2">
                    <button
                      class="edit-task-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-task-id="4"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"
                        />
                      </svg>
                      Edit
                    </button>
                    <button
                      class="open-project-btn inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
                      data-path="/home/korteks/Documents/react-optimization"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"
                        />
                      </svg>
                      Open Terminal
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Empty State -->
          <div id="emptyState" class="hidden text-center py-16">
            <div
              class="mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-12 w-12 text-gray-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"
                />
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-700 mb-2">
              Belum ada task
            </h3>
            <p class="text-gray-500 mb-6">
              Mulai tambahkan task untuk Januari 2025 atau ubah filter status
            </p>
            <button
              onclick="openAddTaskModal()"
              class="inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 4v16m8-8H4"
                />
              </svg>
              Tambah Task Pertama
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Enhanced Add Task Modal -->
    <div
      id="addTaskModal"
      class="hidden fixed inset-0 z-50 flex items-center justify-center modal-backdrop p-4"
    >
      <div
        class="relative w-full max-w-lg rounded-2xl glass-effect p-8 shadow-2xl animate-slide-up"
      >
        <button
          id="closeAddTaskModal"
          class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>

        <div class="mb-6">
          <h2 class="text-2xl font-bold text-gray-800">Tambah Task Baru</h2>
          <p class="text-gray-500 mt-1">
            Buat task baru untuk tracking progress kamu
          </p>
        </div>

        <form id="addTaskForm" class="space-y-5">
          <div>
            <label
              for="judul"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Judul Task</label
            >
            <input
              type="text"
              id="judul"
              name="judul"
              placeholder="Contoh: Belajar Next.js"
              required
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm transition-colors"
            />
          </div>

          <div>
            <label
              for="tipe"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Tipe</label
            >
            <select
              id="tipe"
              name="tipe"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            >
              <option value="Project Local">Project Local</option>
              <option value="Website">Website</option>
            </select>
          </div>

          <div id="path-project-group">
            <label
              for="path-project"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Path Project</label
            >
            <input
              type="text"
              id="path-project"
              name="path_project"
              placeholder="/home/user/Documents/project"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            />
          </div>

          <div id="url-website-group" class="hidden">
            <label
              for="link-website"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >URL Website</label
            >
            <input
              type="url"
              id="link-website"
              name="link_website"
              placeholder="https://example.com"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            />
          </div>

          <div>
            <label
              for="tags"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Tags (pisahkan dengan koma)</label
            >
            <input
              type="text"
              id="tags"
              name="tags"
              placeholder="react, frontend, belajar"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            />
          </div>

          <div>
            <label
              for="catatan"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Catatan</label
            >
            <textarea
              id="catatan"
              name="catatan"
              rows="3"
              placeholder="Deskripsi atau catatan task..."
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm resize-none"
            ></textarea>
          </div>

          <div>
            <label
              for="cover"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Cover Image (Opsional)</label
            >
            <input
              type="file"
              id="cover"
              name="cover"
              accept="image/png, image/jpeg"
              class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 file:transition-colors"
            />
          </div>

          <div class="pt-4">
            <button
              type="submit"
              class="w-full flex justify-center items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-500 to-indigo-600 py-3 px-4 text-sm font-semibold text-white shadow-lg hover:from-indigo-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 4v16m8-8H4"
                />
              </svg>
              Tambah Task
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Enhanced Editor Choice Modal -->
    <div
      id="editorChoiceModal"
      class="hidden fixed inset-0 z-50 flex items-center justify-center modal-backdrop p-4"
    >
      <div
        class="relative w-full max-w-sm rounded-2xl glass-effect p-8 text-center shadow-2xl animate-slide-up"
      >
        <button
          id="closeEditorChoiceModal"
          class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>

        <div class="mb-6">
          <div
            class="mx-auto w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-8 w-8 text-indigo-600"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"
              />
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-800">Buka Proyek</h3>
          <p class="text-sm text-gray-500 mt-2">
            Pilih editor untuk membuka proyek.
          </p>
        </div>

        <div class="space-y-3">
          <button
            id="openInVSCode"
            class="w-full flex items-center justify-center gap-3 rounded-xl border border-gray-300 bg-white py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 text-blue-600"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
              />
            </svg>
            Buka di VSCode
          </button>

          <div>
            <label for="terminal-select" class="sr-only"
              >Pilih Terminal untuk Neovim:</label
            >
            <select
              id="terminal-select"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm mb-3"
            >
              <option value="">Pilih terminal...</option>
              <option value="kitty">kitty</option>
              <option value="alacritty">alacritty</option>
              <option value="gnome-terminal">gnome-terminal</option>
              <option value="xterm">xterm</option>
            </select>
          </div>

          <button
            id="openInTerminal"
            class="w-full flex items-center justify-center gap-3 rounded-xl bg-gradient-to-r from-gray-800 to-gray-900 py-3 text-sm font-semibold text-white shadow-lg hover:from-gray-900 hover:to-black focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"
              />
            </svg>
            Buka di Terminal
          </button>
        </div>
      </div>
    </div>

    <!-- Edit Task Modal -->
    <div
      id="editTaskModal"
      class="hidden fixed inset-0 z-50 flex items-center justify-center modal-backdrop p-4"
    >
      <div
        class="relative w-full max-w-lg rounded-2xl glass-effect p-8 shadow-2xl animate-slide-up"
      >
        <button
          id="closeEditTaskModal"
          class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>

        <div class="mb-6">
          <h2 class="text-2xl font-bold text-gray-800">Edit Task</h2>
          <p class="text-gray-500 mt-1">
            Perbarui detail task kamu.
          </p>
        </div>

        <form id="editTaskForm" class="space-y-5">
          <input type="hidden" id="edit-task-id" name="id" />
          <div>
            <label
              for="edit-judul"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Judul Task</label
            >
            <input
              type="text"
              id="edit-judul"
              name="judul"
              placeholder="Contoh: Belajar Next.js"
              required
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm transition-colors"
            />
          </div>

          <div>
            <label
              for="edit-tipe"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Tipe</label
            >
            <select
              id="edit-tipe"
              name="tipe"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            >
              <option value="Project Local">Project Local</option>
              <option value="Website">Website</option>
            </select>
          </div>

          <div id="edit-path-project-group">
            <label
              for="edit-path-project"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Path Project</label
            >
            <input
              type="text"
              id="edit-path-project"
              name="path_project"
              placeholder="/home/user/Documents/project"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            />
          </div>

          <div id="edit-url-website-group" class="hidden">
            <label
              for="edit-link-website"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >URL Website</label
            >
            <input
              type="url"
              id="edit-link-website"
              name="link_website"
              placeholder="https://example.com"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            />
          </div>

          <div>
            <label
              for="edit-tags"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Tags (pisahkan dengan koma)</label
            >
            <input
              type="text"
              id="edit-tags"
              name="tags"
              placeholder="react, frontend, belajar"
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm"
            />
          </div>

          <div>
            <label
              for="edit-catatan"
              class="block text-sm font-semibold text-gray-700 mb-2"
              >Catatan</label
            >
            <textarea
              id="edit-catatan"
              name="catatan"
              rows="3"
              placeholder="Deskripsi atau catatan task..."
              class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-4 py-3 text-sm resize-none"
            ></textarea>
          </div>

          <div class="pt-4">
            <button
              type="submit"
              class="w-full flex justify-center items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-500 to-indigo-600 py-3 px-4 text-sm font-semibold text-white shadow-lg hover:from-indigo-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                />
              </svg>
              Simpan Perubahan
            </button>
          </div>
        </form>
      </div>
    </div>

    <script>
      // Enhanced JavaScript functionality
      let currentProjectPath = "";

      // Sample tasks data
      let tasks = [
        {
          id: 1,
          title: "Buat portfolio static website",
          type: "Website",
          url: "https://myportfolio.dev",
          status: "done",
          time: "8h 0m",
          notes:
            "Portfolio dengan React dan Tailwind, sudah deploy ke Netlify. Fitur lengkap dengan animasi dan responsive design.",
          tags: ["react", "portfolio", "frontend"],
        },
        {
          id: 2,
          title: "Belajar Django untuk sistem Topsis",
          type: "Project Local",
          path: "/home/korteks/Documents/django-topsis",
          status: "inprogress",
          time: "6h 0m",
          notes:
            "Implementasi algoritma TOPSIS untuk decision support system. Sedang fokus pada backend architecture.",
          tags: ["python", "django", "algorithm"],
        },
        {
          id: 3,
          title: "Setup DevOps pipeline dengan Docker",
          type: "Project Local",
          path: "/home/korteks/Documents/devops-pipeline",
          status: "todo",
          time: "0h 0m",
          notes:
            "Belajar Docker, Docker Compose, dan CI/CD dengan GitHub Actions untuk automation.",
          tags: ["devops", "docker", "ci-cd"],
        },
        {
          id: 4,
          title: "Optimasi performa aplikasi React",
          type: "Project Local",
          path: "/home/korteks/Documents/react-optimization",
          status: "inprogress",
          time: "4h 0m",
          notes:
            "Code splitting, lazy loading, dan memory optimization untuk improve performance.",
          tags: ["react", "performance", "optimization"],
        },
      ];

      // DOM Elements
      const addTaskModal = document.getElementById("addTaskModal");
      const addTaskBtn = document.getElementById("addTaskBtn");
      const closeAddTaskBtn = document.getElementById("closeAddTaskModal");
      const editTaskModal = document.getElementById("editTaskModal");
      const closeEditTaskBtn = document.getElementById("closeEditTaskModal");
      const editorChoiceModal = document.getElementById("editorChoiceModal");
      const closeEditorChoiceBtn = document.getElementById(
        "closeEditorChoiceModal",
      );
      const openVSCodeBtn = document.getElementById("openInVSCode");
      const openInTerminalBtn = document.getElementById("openInTerminal");
      const terminalSelect = document.getElementById("terminal-select");
      const tipeSelect = document.getElementById("tipe");
      const pathProjectGroup = document.getElementById("path-project-group");
      const urlWebsiteGroup = document.getElementById("url-website-group");
      const editTipeSelect = document.getElementById("edit-tipe");
      const editPathProjectGroup = document.getElementById("edit-path-project-group");
      const editUrlWebsiteGroup = document.getElementById("edit-url-website-group");
      const filterStatus = document.getElementById("filter-status");
      const sortBy = document.getElementById("sort-by");

      // Modal functions
      function openAddTaskModal() {
        addTaskModal.classList.remove("hidden");
        addTaskModal.classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeAddTaskModal() {
        addTaskModal.classList.add("hidden");
        addTaskModal.classList.remove("flex");
        document.body.style.overflow = "auto";
      }

      function openEditTaskModal(taskId) {
        const task = tasks.find((t) => t.id === taskId);
        if (task) {
          document.getElementById("edit-task-id").value = task.id;
          document.getElementById("edit-judul").value = task.title;
          document.getElementById("edit-tipe").value = task.type;
          document.getElementById("edit-path-project").value = task.path || "";
          document.getElementById("edit-link-website").value = task.url || "";
          document.getElementById("edit-tags").value = task.tags.join(", ");
          document.getElementById("edit-catatan").value = task.notes;
          toggleEditFields();
          editTaskModal.classList.remove("hidden");
          editTaskModal.classList.add("flex");
          document.body.style.overflow = "hidden";
        }
      }

      function closeEditTaskModal() {
        editTaskModal.classList.add("hidden");
        editTaskModal.classList.remove("flex");
        document.body.style.overflow = "auto";
      }

      function openEditorChoiceModal(path) {
        currentProjectPath = path;
        editorChoiceModal.classList.remove("hidden");
        editorChoiceModal.classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeEditorChoiceModal() {
        editorChoiceModal.classList.add("hidden");
        editorChoiceModal.classList.remove("flex");
        document.body.style.overflow = "auto";
      }

      // Event Listeners
      addTaskBtn.addEventListener("click", openAddTaskModal);
      closeAddTaskBtn.addEventListener("click", closeAddTaskModal);
      closeEditTaskBtn.addEventListener("click", closeEditTaskModal);
      closeEditorChoiceBtn.addEventListener("click", closeEditorChoiceModal);

      // Toggle form fields based on task type
      function toggleFields() {
        if (tipeSelect.value === "Project Local") {
          pathProjectGroup.classList.remove("hidden");
          urlWebsiteGroup.classList.add("hidden");
        } else {
          pathProjectGroup.classList.add("hidden");
          urlWebsiteGroup.classList.remove("hidden");
        }
      }
      
      function toggleEditFields() {
        if (editTipeSelect.value === "Project Local") {
          editPathProjectGroup.classList.remove("hidden");
          editUrlWebsiteGroup.classList.add("hidden");
        } else {
          editPathProjectGroup.classList.add("hidden");
          editUrlWebsiteGroup.classList.remove("hidden");
        }
      }

      tipeSelect.addEventListener("change", toggleFields);
      editTipeSelect.addEventListener("change", toggleEditFields);
      toggleFields(); // Initial call

      // Open project buttons
      document.addEventListener("click", function (e) {
        if (e.target.closest(".open-project-btn")) {
          const button = e.target.closest(".open-project-btn");
          const path = button.dataset.path;
          openEditorChoiceModal(path);
        }
        if (e.target.closest(".edit-task-btn")) {
          const button = e.target.closest(".edit-task-btn");
          const taskId = parseInt(button.dataset.taskId, 10);
          openEditTaskModal(taskId);
        }
      });

      // VSCode integration
      openVSCodeBtn.addEventListener("click", () => {
        if (currentProjectPath) {
          window.location.href = `vscode://file/${currentProjectPath}`;
          closeEditorChoiceModal();
        }
      });

      // Terminal integration
      openInTerminalBtn.addEventListener("click", async () => {
        const selectedTerminal = terminalSelect.value;
        if (!selectedTerminal) {
          alert("Silakan pilih terminal terlebih dahulu.");
          return;
        }
        if (currentProjectPath) {
          try {
            const response = await fetch("/api/spawn-terminal", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                terminal: selectedTerminal,
                path: currentProjectPath,
              }),
            });

            if (response.ok) {
              closeEditorChoiceModal();
              // Show success notification
              showNotification("Terminal berhasil dibuka!", "success");
            } else {
              throw new Error("Failed to spawn terminal");
            }
          } catch (error) {
            console.error("Error spawning terminal:", error);
            showNotification("Gagal membuka terminal", "error");
          }
        }
      });

      // Filter and sort functionality
      function filterAndSortTasks() {
        const statusFilter = filterStatus.value;
        const sortOption = sortBy.value;
        const taskCards = document.querySelectorAll(".task-card");

        let visibleCount = 0;

        taskCards.forEach((card) => {
          const status = card.dataset.status;
          const shouldShow = statusFilter === "all" || status === statusFilter;

          if (shouldShow) {
            card.style.display = "flex";
            visibleCount++;
          } else {
            card.style.display = "none";
          }
        });

        // Show/hide empty state
        const emptyState = document.getElementById("emptyState");
        if (visibleCount === 0) {
          emptyState.classList.remove("hidden");
        } else {
          emptyState.classList.add("hidden");
        }
      }

      filterStatus.addEventListener("change", filterAndSortTasks);
      sortBy.addEventListener("change", filterAndSortTasks);

      // Form submission
      document
        .getElementById("addTaskForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(e.target);
          const taskData = {
            title: formData.get("judul"),
            type: formData.get("tipe"),
            path: formData.get("path_project"),
            url: formData.get("link_website"),
            tags: formData.get("tags"),
            notes: formData.get("catatan"),
            status: "todo",
            time: "0h 0m",
          };

          // Add task to the list (in a real app, this would be sent to server)
          console.log("New task:", taskData);

          // Reset form and close modal
          e.target.reset();
          toggleFields();
          closeAddTaskModal();

          showNotification("Task berhasil ditambahkan!", "success");
        });
        
      document
        .getElementById("editTaskForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(e.target);
          const taskId = parseInt(formData.get("id"), 10);
          const taskIndex = tasks.findIndex(t => t.id === taskId);

          if (taskIndex !== -1) {
            tasks[taskIndex].title = formData.get("judul");
            tasks[taskIndex].type = formData.get("tipe");
            tasks[taskIndex].path = formData.get("path_project");
            tasks[taskIndex].url = formData.get("link_website");
            tasks[taskIndex].tags = formData.get("tags").split(",").map(tag => tag.trim());
            tasks[taskIndex].notes = formData.get("catatan");
            
            // Re-render tasks
            // For simplicity, we'll just log the updated task
            console.log("Updated task:", tasks[taskIndex]);
          }

          // Reset form and close modal
          e.target.reset();
          toggleEditFields();
          closeEditTaskModal();

          showNotification("Task berhasil diperbarui!", "success");
        });
        
      document
        .getElementById("editTaskForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(e.target);
          const taskId = parseInt(formData.get("id"), 10);
          const taskIndex = tasks.findIndex(t => t.id === taskId);

          if (taskIndex !== -1) {
            tasks[taskIndex].title = formData.get("judul");
            tasks[taskIndex].type = formData.get("tipe");
            tasks[taskIndex].path = formData.get("path_project");
            tasks[taskIndex].url = formData.get("link_website");
            tasks[taskIndex].tags = formData.get("tags").split(",").map(tag => tag.trim());
            tasks[taskIndex].notes = formData.get("catatan");
            
            // Re-render tasks
            // For simplicity, we'll just log the updated task
            console.log("Updated task:", tasks[taskIndex]);
          }

          // Reset form and close modal
          e.target.reset();
          toggleEditFields();
          closeEditTaskModal();

          showNotification("Task berhasil diperbarui!", "success");
        });

      // Notification system
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white transform translate-x-full transition-transform duration-300 ${
          type === "success"
            ? "bg-green-500"
            : type === "error"
              ? "bg-red-500"
              : "bg-blue-500"
        }`;
        notification.textContent = message;

        document.body.appendChild(notification);

        // Animate in
        setTimeout(() => {
          notification.classList.remove("translate-x-full");
        }, 100);

        // Remove after 3 seconds
        setTimeout(() => {
          notification.classList.add("translate-x-full");
          setTimeout(() => {
            document.body.removeChild(notification);
          }, 300);
        }, 3000);
      }

      // Close modals on outside click
      window.addEventListener("click", (event) => {
        if (event.target === addTaskModal) {
          closeAddTaskModal();
        }
        if (event.target === editTaskModal) {
          closeEditTaskModal();
        }
        if (event.target === editorChoiceModal) {
          closeEditorChoiceModal();
        }
      });

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          if (!addTaskModal.classList.contains("hidden")) {
            closeAddTaskModal();
          }
          if (!editTaskModal.classList.contains("hidden")) {
            closeEditTaskModal();
          }
          if (!editorChoiceModal.classList.contains("hidden")) {
            closeEditorChoiceModal();
          }
        }
      });

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        filterAndSortTasks();

        // Add loading animation
        const cards = document.querySelectorAll(".task-card");
        cards.forEach((card, index) => {
          card.style.animationDelay = `${index * 0.1}s`;
          card.classList.add("animate-slide-up");
        });
      });
    </script>
  </body>
</html>
